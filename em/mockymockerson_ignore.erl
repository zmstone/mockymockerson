
-module(mockymockerson_ignore).

-export([ fix/2
]).

%% -----------------------------------------------------------------------------
%% -----------------------------------------------------------------------------
fix(A, B) when is_atom(A) ->
    fix_atom(A, B);
fix(A, B) when is_list(A), is_list(B) ->
    fix_list(A, B);
fix(A, B) when is_tuple(A), is_tuple(B) ->
    fix_tuple(A, B);
fix(A, _B) ->
    A.

%% -----------------------------------------------------------------------------
%% -----------------------------------------------------------------------------
fix_atom(A, B) ->
    case atom_to_list(A) of
    [$_ | _] ->
        B;
    _ ->
        A
    end.

%% -----------------------------------------------------------------------------
%% -----------------------------------------------------------------------------
fix_tuple(A, B) ->
    list_to_tuple(fix_list(tuple_to_list(A), tuple_to_list(B))).

%% -----------------------------------------------------------------------------
%% -----------------------------------------------------------------------------
fix_list([], _) ->
    [];
fix_list([H | T1], [H | T2]) ->
    [H | fix_list(T1, T2)];
fix_list([H1 | T1], [H2 | T2]) ->
    [fix(H1, H2) | fix_list(T1, T2)].

